# Profile
| [ref](https://github.com/MaxS1996/TVM_Profiler.git)

1. 从json文件中加载不同层的配置。对每个配置:

2. 根据层的形状生成输入数据和权重张量。

3. 使用层的表达式(conv2d、dense等)构建TVM图。

4. 编译并运行模块,通过TVM分析器获得每一层的执行时间。

5. 判断运行次数以降低测量噪声。

6. 通过多次运行分析功耗:

  * 对CPU,聚合PAPI指标得到功耗。
  * 对GPU,使用nvml读取功率,去除异常值。

7. 从TVM指标中获得内存使用情况。

8. 将每一层配置的结果(时间、功耗、内存)保存到文件